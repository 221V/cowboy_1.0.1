<!DOCTYPE html>
<html>
<head>
<title>cowboy_protocol</title>
<meta charset="utf8">
<style>
div.layout{width:800px;margin:0 auto;}
</style>
<link rel="stylesheet" href="slides.css" type="text/css">
</head>
<body>
<div class="layout">
<h1>cowboy_protocol</h1>

<p>The <code>cowboy_protocol</code> module implements HTTP/1.1 and HTTP/1.0  as a Ranch protocol.</p>

<h2>Types</h2>

<h3>opts() = [{compress, boolean()} | {env, cowboy_middleware:env()} | {max_empty_lines, non_neg_integer()} | {max_header_name_length, non_neg_integer()} | {max_header_value_length, non_neg_integer()} | {max_headers, non_neg_integer()} | {max_keepalive, non_neg_integer()} | {max_request_line_length, non_neg_integer()} | {middlewares, [module()]} | {onrequest, cowboy:onrequest_fun()} | {onresponse, cowboy:onresponse_fun()} | {timeout, timeout()}]</h3>

<p>Configuration for the HTTP protocol handler.</p>

<p>This configuration is passed to Cowboy when starting listeners using <code>cowboy:start_http/4</code> or <code>cowboy:start_https/4</code> functions.</p>

<p>It can be updated without restarting listeners using the Ranch functions <code>ranch:get_protocol_options/1</code> and <code>ranch:set_protocol_options/2</code>.</p>

<h2>Option descriptions</h2>

<p>The default value is given next to the option name.</p>

<h3>compress (false)</h3>

<p>When enabled, Cowboy will attempt to compress the response body.</p>

<h3>env ([{listener, Ref}])</h3>

<p>Initial middleware environment.</p>

<h3>max_empty_lines (5)</h3>

<p>Maximum number of empty lines before a request.</p>

<h3>max_header_name_length (64)</h3>

<p>Maximum length of header names.</p>

<h3>max_header_value_length (4096)</h3>

<p>Maximum length of header values.</p>

<h3>max_headers (100)</h3>

<p>Maximum number of headers allowed per request.</p>

<h3>max_keepalive (100)</h3>

<p>Maximum number of requests allowed per connection.</p>

<h3>max_request_line_length (4096)</h3>

<p>Maximum length of the request line.</p>

<h3>middlewares ([cowboy_router, cowboy_handler])</h3>

<p>List of middlewares to execute for every requests.</p>

<h3>onrequest (undefined)</h3>

<p>Fun called every time a request is received.</p>

<h3>onresponse (undefined)</h3>

<p>Fun called every time a response is sent.</p>

<h3>timeout (5000)</h3>

<p>Time in ms with no requests before Cowboy closes the connection.</p>

<h2>Exports</h2>

<p>None.</p>
</div>
<script>SyntaxHighlighter.all();</script>
</body>
</html>
