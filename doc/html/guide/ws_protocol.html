<!DOCTYPE html>
<html>
<head>
<title>The Websocket protocol</title>
<meta charset="utf8">
<style>
div.layout{width:800px;margin:0 auto;}
</style>
<link rel="stylesheet" href="slides.css" type="text/css">
</head>
<body>
<div class="layout">
<h1>The Websocket protocol</h1>

<p>This chapter explains what Websocket is and why it is a vital component of soft realtime Web applications.</p>

<h2>Description</h2>

<p>Websocket is an extension to HTTP that emulates plain TCP connections between the client, typically a Web browser, and the server. It uses the HTTP Upgrade mechanism to establish the connection.</p>

<p>Websocket connections are asynchronous, unlike HTTP. This means that not only can the client send frames to the server at any time, but the server can also send frames to the client without the client initiating anything other than the Websocket connection itself. This allows the server to push data to the client directly.</p>

<p>Websocket is an IETF standard. Cowboy supports the standard and all drafts that were previously implemented by browsers, excluding the initial flawed draft sometimes known as "version 0".</p>

<h2>Implementation</h2>

<p>Cowboy implements Websocket as a protocol upgrade. Once the upgrade is performed from the <code>init/3</code> callback, Cowboy switches to Websocket. Please consult the next chapter for more information on initiating and handling Websocket connections.</p>

<p>The implementation of Websocket in Cowboy is validated using the Autobahn test suite, which is an extensive suite of tests covering all aspects of the protocol. Cowboy passes the suite with 100% success, including all optional tests.</p>

<p>Cowboy's Websocket implementation also includes the x-webkit-deflate-frame compression draft which is being used by some browsers to reduce the size of data being transmitted. Cowboy will automatically use compression as long as the <code>compress</code> protocol option is set when starting the listener.</p>
</div>
<script>SyntaxHighlighter.all();</script>
</body>
</html>
